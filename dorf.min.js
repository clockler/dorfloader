(function(e){var t=function(){this.eventTarget=document.createDocumentFragment(),this.total=0,this.start=Date.now(),this.totalTime=0,this.loaded=0,this.loadedItems=0,this.elements=[],this.last=0,this.finals=[],this.progress=function(e){e.target.loaderinitialized||(Dorf.total+=e.total,e.target.loaderinitialized="true",e.target.loaderlast=0);var t=e.timeStamp-Dorf.last,n=Number(e.target.loaderlast);Dorf.loaded+=e.loaded-n,e.target.loaderlast=e.loaded,t>100&&(Dorf.last=e.timeStamp,Dorf.dispatchEvent(new ProgressEvent("progress",{lengthComputable:!0,loaded:Dorf.loaded,total:Dorf.total})))},this.load=function(e){if(e.target.status>=400)Dorf.error(new ErrorEvent("error",{message:"Failed to retrieve resource "+e.target.res+" ("+e.target.status.toString()+" "+e.target.statusText+")"}));else{Dorf.loadedItems++;var t=e.target.config,n=document.createElement(t[0]);t[1]?n.src=URL.createObjectURL(e.target.response):n.innerHTML=e.target.responseText,Dorf.resources[e.target.res]=n,t[2]instanceof HTMLElement&&(Dorf.finals.push(n),n.targetElement=t[2]);if(Dorf.loadedItems>=Dorf.elements.length){for(var r=0;r<Dorf.finals.length;r++)Dorf.finals[r].targetElement.appendChild(Dorf.finals[r]),delete Dorf.finals[r].targetElement;delete Dorf.finals,Dorf.totalTime=Date.now()-Dorf.start,Dorf.dispatchEvent(new Event("load"))}}},this.error=function(e){for(var t=0;t<Dorf.elements.length;t++)Dorf.elements[t].abort();Dorf.dispatchEvent(new ErrorEvent("error",{message:e.message}))},this.associations={js:["script",!1,document.head],jpg:["img",!0,null],png:["img",!0,null],gif:["img",!0,null],webp:["img",!0,null],apng:["img",!0,null],tiff:["img",!0,null],bmp:["img",!0,null],ogg:["audio",!0,null],mp3:["audio",!0,null],wav:["audio",!0,null],aac:["audio",!0,null],webm:["video",!0,null],mp4:["video",!0,null],css:["style",!1,document.head]},this.resources={}};t.prototype.addEventListener=function(t,n,r,i){return this.eventTarget.addEventListener(t,n,r,i)},t.prototype.removeEventListener=function(t,n,r){return this.eventTarget.removeEventListener(t,n,r)},t.prototype.dispatchEvent=function(t){return this.eventTarget.dispatchEvent(t)},t.prototype.get=function(e){return this.resources.hasOwnProperty(e)?this.resources[e]:null},Dorf=new t;var n=new XMLHttpRequest,r=function(e){Dorf.dispatchEvent(new ErrorEvent("error",{message:e.message}))};n.addEventListener("load",function(t){if(t.target.status>=400)r(new ErrorEvent("error",{message:"Failed to retrieve manifest"}));else{var i=JSON.parse(n.responseText),s=e.match(/(.*\/)[^\/]+$/);s?s=s[1]:s="";for(var o=0;o<i.length;o++){var u=i[o],a=u.match(/\.(\w+)$/)[1];if(Dorf.associations.hasOwnProperty(a)){var f=Dorf.associations[a],l=new XMLHttpRequest;Dorf.elements.push(l),l.res=u,l.config=f,f[1]&&(l.responseType="blob"),l.addEventListener("progress",Dorf.progress),l.addEventListener("load",Dorf.load),l.addEventListener("error",Dorf.error),l.open("GET",s+u),l.send("")}}}}),n.addEventListener("error",r),n.open("GET",e),n.send("")})(document.currentScript.dataset.manifest||"manifest.json");