(function(e){var t=function(){this.eventTarget=document.createDocumentFragment(),this.total=0,this.start=Date.now(),this.totalTime=0,this.loaded=0,this.loadedItems=0,this.elements=[],this.last=0,this.finals=[],this.progress=function(e){e.target.loaderinitialized||(Dorf.total+=e.total,e.target.loaderinitialized="true",e.target.loaderlast=0);var t=e.timeStamp-Dorf.last,n=Number(e.target.loaderlast);Dorf.loaded+=e.loaded-n,e.target.loaderlast=e.loaded,t>100&&(Dorf.last=e.timeStamp,Dorf.dispatchEvent(new ProgressEvent("progress",{lengthComputable:!0,loaded:Dorf.loaded,total:Dorf.total})))},this.load=function(e){if(e.target.status>=400){for(var t=0;t<Dorf.elements.length;t++)Dorf.elements[t].abort();Dorf.dispatchEvent(new Event("error"))}else{Dorf.loadedItems++;var n=e.target.config,r=document.createElement(n[0]);n[1]?r.src=URL.createObjectURL(e.target.response):r.innerHTML=e.target.responseText,Dorf.resources[e.target.res]=r,n[2]instanceof HTMLElement&&(Dorf.finals.push(r),r.targetElement=n[2]);if(Dorf.loadedItems>=Dorf.elements.length){for(var t=0;t<Dorf.finals.length;t++)Dorf.finals[t].targetElement.appendChild(Dorf.finals[t]),delete Dorf.finals[t].targetElement;delete Dorf.finals,Dorf.totalTime=Date.now()-Dorf.start,Dorf.dispatchEvent(new Event("load"))}}},this.error=function(e){for(var t=0;t<Dorf.elements.length;t++)Dorf.elements[t].abort();Dorf.dispatchEvent(new Event("error"))},this.associations={js:["script",!1,document.head],jpg:["img",!0,null],png:["img",!0,null],gif:["img",!0,null],webp:["img",!0,null],apng:["img",!0,null],tiff:["img",!0,null],bmp:["img",!0,null],ogg:["audio",!0,null],mp3:["audio",!0,null],wav:["audio",!0,null],aac:["audio",!0,null],webm:["video",!0,null],mp4:["video",!0,null],css:["style",!1,document.head]},this.resources={}};t.prototype.addEventListener=function(t,n,r,i){return this.eventTarget.addEventListener(t,n,r,i)},t.prototype.removeEventListener=function(t,n,r){return this.eventTarget.removeEventListener(t,n,r)},t.prototype.dispatchEvent=function(t){return this.eventTarget.dispatchEvent(t)},t.prototype.get=function(e){return this.resources.hasOwnProperty(e)?this.resources[e]:null},Dorf=new t;var n=new XMLHttpRequest;n.addEventListener("load",function(){var t=JSON.parse(n.responseText),r=e.match(/(.*\/)[^\/]+$/);r?r=r[1]:r="";for(var i=0;i<t.length;i++){var s=t[i],o=s.match(/\.(\w+)$/)[1];if(Dorf.associations.hasOwnProperty(o)){var u=Dorf.associations[o],a=new XMLHttpRequest;Dorf.elements.push(a),a.res=s,a.config=u,u[1]&&(a.responseType="blob"),a.addEventListener("progress",Dorf.progress),a.addEventListener("load",Dorf.load),a.addEventListener("error",Dorf.error),a.open("GET",r+s),a.send("")}}}),n.addEventListener("error",function(){Dorf.dispatchEvent(new Event("error"))}),n.open("GET",e),n.send("")})(document.currentScript.dataset.manifest||"manifest.json");